----------------------------------LAB 1----------------------------------
CREATE TABLE TB_CLIENTE(
ID_CLIENTE INTEGER NOT NULL,
NOME_CLIENTE VARCHAR2(100),
CPF_CLIENTE INTEGER,
ENDERECO_CLIENTE VARCHAR2(200));
ALTER TABLE TB_CLIENTE ADD CONSTRAINT tb_cliente_pk PRIMARY KEY (id_cliente);

CREATE TABLE TB_LOGIN(
ID_CLIENTE NOT NULL,
LOGIN VARCHAR2(50) NOT NULL,
SENHA VARCHAR2(16),
CONSTRAINT TB_LOGIN_ID_CLIENTE_FK FOREIGN KEY(ID_CLIENTE) REFERENCES TB_CLIENTE (ID_CLIENTE));

CREATE TABLE TB_CONTATO(
ID_CLIENTE NOT NULL,
EMAIL VARCHAR2(100),
TELEFONE INTEGER,
CONSTRAINT TB_CONTATO_ID_CLIENTE_FK FOREIGN KEY (ID_CLIENTE) REFERENCES TB_CLIENTE (ID_CLIENTE));

CREATE TABLE TB_PEDIDO(
ID_PEDIDO INTEGER NOT NULL,
ID_CLIENTE NOT NULL,
DATA_HORA_PEDIDO TIMESTAMP,
CONSTRAINT TB_PEDIDO_ID_CLIENTE_FK FOREIGN KEY (ID_CLIENTE) REFERENCES TB_CLIENTE (ID_CLIENTE));

ALTER TABLE TB_PEDIDO ADD CONSTRAINT TB_PEDIDO_PK PRIMARY KEY (ID_PEDIDO);

CREATE TABLE TB_PIZZA(
ID_PIZZA INTEGER NOT NULL,
NOME_PIZZA VARCHAR2(50),
PRECO_PIZZA NUMBER(10, 2),
CATEGORIA VARCHAR2(50));

ALTER TABLE TB_PIZZA ADD CONSTRAINT TB_PIZZA_PK PRIMARY KEY (ID_PIZZA);

CREATE TABLE TB_PEDIDO_PIZZA(
ID_PEDIDO NOT NULL,
ID_PIZZA NOT NULL,
QUANTIDADE INTEGER,
CONSTRAINT TB_PEDIDO_PIZZA_ID_PEDIDO_FK FOREIGN KEY (ID_PEDIDO) REFERENCES TB_PEDIDO (ID_PEDIDO),
CONSTRAINT TB_PEDIDO_PIZZA_ID_PIZZA_FK FOREIGN KEY (ID_PIZZA) REFERENCES TB_PIZZA (ID_PIZZA));

CREATE TABLE TB_INGREDIENTE(
ID_INGREDIENTE INTEGER NOT NULL,
NOME_INGREDIENTE VARCHAR2(100) NOT NULL);

ALTER TABLE TB_INGREDIENTE ADD CONSTRAINT TB_INGREDIENTE_PK PRIMARY KEY (ID_INGREDIENTE);

CREATE TABLE tb_pizza_composicao(
id_pizza NOT NULL,
id_ingrediente NOT NULL,
CONSTRAINT tb_pizza_composicao_id_pizza_fk FOREIGN KEY (id_pizza) REFERENCES tb_pizza (id_pizza),
CONSTRAINT tb_pizza_composicao_id_ingrediente_fk FOREIGN KEY (id_ingrediente) REFERENCES tb_ingrediente (id_ingrediente));

----------------------------------LAB 2----------------------------------
ALTER TABLE TB_CLIENTE MODIFY NOME_CLIENTE NOT NULL;
ALTER TABLE TB_CLIENTE MODIFY CPF_CLIENTE NOT NULL;
ALTER TABLE TB_LOGIN MODIFY SENHA VARCHAR2(20);
ALTER TABLE TB_CLIENTE DROP COLUMN ENDERECO_CLIENTE;
ALTER TABLE TB_PIZZA RENAME COLUMN PRECO_PIZZA TO VALOR_PIZZA;

ALTER TABLE TB_LOGIN ADD CONSTRAINT TB_LOGIN_LOGIN_UC UNIQUE (LOGIN);
ALTER TABLE tb_pizza_composicao ADD CONSTRAINT tb_pizza_composicao_uc UNIQUE (id_pizza, id_ingrediente);

SELECT * FROM TB_PIZZA;
SELECT * FROM tb_ingrediente;
SELECT * FROM tb_pizza_composicao;

INSERT INTO TB_PIZZA VALUES (1, 'Mussarela', '49.99', 'Simples');
INSERT INTO TB_INGREDIENTE VALUES (1, 'Queijo');
INSERT INTO tb_pizza_composicao VALUES (1, 1);